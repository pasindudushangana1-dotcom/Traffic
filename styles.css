/* --- Variables & Reset --- */
:root {
    --primary-color: #CCFF00;
    /* Neon Yellow */
    --accent-color: #E6FF66;
    /* Lighter Yellow Hover */
    --bg-dark: #121212;
    /* Asphalt Grey */
    --bg-black: #050505;
    /* Matte Black */
    --surface-dark: #1E1E1E;
    --text-white: #FFFFFF;
    --text-grey: #A0A0A0;
    --border-color: #333333;

    --font-heading: 'Chakra Petch', sans-serif;
    /* Tech/Futuristic */
    --font-body: 'Inter', sans-serif;

    --border-radius-card: 16px;
    --font-mono: 'Courier New', Courier, monospace;
    /* Fallback or specific mono font */
    --neon-cyan: #00f3ff;
}

/* --- Visual Polish: Custom Scrollbar --- */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--bg-black);
}

::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--neon-cyan);
}

:root[data-theme="light"] {
    --bg-dark: #f0f0f0;
    --bg-black: #ffffff;
    --surface-dark: #e0e0e0;
    --text-white: #121212;
    --text-grey: #4a4a4a;
    --border-color: #cccccc;
    /* Invert glows for visibility */
    --primary-color: #99cc00;
    /* Slightly darker neon for contrast on white */
}

/* Specific Light Mode Overrides */
:root[data-theme="light"] body {
    background-image:
        linear-gradient(rgba(0, 0, 0, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
}

:root[data-theme="light"] .nav-capsule {
    background: rgba(255, 255, 255, 0.85);
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1);
}

:root[data-theme="light"] .glass-card,
:root[data-theme="light"] .bento-item,
:root[data-theme="light"] .gallery-card {
    background: #ffffff;
    border-color: #ddd;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
}

:root[data-theme="light"] .hero-overlay,
:root[data-theme="light"] body::after {
    /* Reduce dark overlay intensity */
    opacity: 0.1;
    background: none;
}


/* --- Utility Animations --- */


/* Utility Animations */
@keyframes blink {
    50% {
        border-color: transparent;
    }
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: var(--bg-black);
    color: var(--text-white);
    font-family: var(--font-body);
    line-height: 1.6;
    overflow-x: hidden;
    background-image:
        linear-gradient(rgba(204, 255, 0, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(204, 255, 0, 0.02) 1px, transparent 1px);
    background-size: 50px 50px;
    background-attachment: fixed;
}

a {
    text-decoration: none;
    color: inherit;
    transition: 0.3s;
}

ul {
    list-style: none;
}

/* --- Typography Utilities --- */
h1,
h2,
h3,
h4,
.btn-primary,
.btn-secondary {
    font-family: var(--font-heading);
    text-transform: uppercase;
}

.section-label {
    color: var(--primary-color);
    font-size: 0.9rem;
    letter-spacing: 2px;
    margin-bottom: 0.5rem;
    font-weight: 700;
}

/* --- Advanced Buttons --- */
.btn-primary {
    background: var(--primary-color);
    color: var(--bg-black);
    padding: 1rem 2.8rem;
    font-weight: 700;
    border: none;
    cursor: pointer;
    border-radius: 50px;
    font-size: 1rem;
    position: relative;
    overflow: hidden;
    z-index: 1;
    letter-spacing: 1px;
    font-family: var(--font-heading);
    text-transform: uppercase;
    transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
}

.btn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.6), transparent);
    transition: 0.6s;
    z-index: 2;
}

.btn-primary:hover {
    transform: translateY(-5px);
    box-shadow:
        0 15px 30px rgba(204, 255, 0, 0.4),
        0 0 20px rgba(204, 255, 0, 0.2) inset;
    letter-spacing: 3px;
    background-color: #d4ff33;
    /* Morphs on hover to square */
}

.btn-primary:hover::before {
    left: 100%;
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    color: var(--text-white);
    padding: 1rem 2.8rem;
    border: 1px solid rgba(255, 255, 255, 0.15);
    font-weight: 600;
    cursor: pointer;
    font-size: 1rem;
    position: relative;
    overflow: hidden;
    font-family: var(--font-heading);
    text-transform: uppercase;
    letter-spacing: 2px;
    transition: all 0.3s ease;
    border-radius: 50px;
}

.btn-secondary::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, transparent 40%, rgba(204, 255, 0, 0.2) 50%, transparent 60%);
    transform: translateX(-100%);
    transition: 0.5s;
}

.btn-secondary:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
    box-shadow: 0 0 30px rgba(204, 255, 0, 0.15) inset;
    text-shadow: 0 0 10px rgba(204, 255, 0, 0.8);
    background: rgba(204, 255, 0, 0.05);
}

.btn-secondary:hover::after {
    transform: translateX(100%);
}

.btn-sm {
    background: transparent;
    border: 1px solid var(--primary-color);
    color: var(--primary-color);
    padding: 0.6rem 1.5rem;
    font-weight: 700;
    border-radius: 50px;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-sm:hover {
    background: var(--primary-color);
    color: var(--bg-black);
    box-shadow: 0 0 20px rgba(204, 255, 0, 0.6);
    letter-spacing: 2px;
}

/* --- Advanced UI: Global Effects --- */
body::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: repeating-linear-gradient(0deg,
            rgba(0, 0, 0, 0.15),
            rgba(0, 0, 0, 0.15) 1px,
            transparent 1px,
            transparent 2px);
    pointer-events: none;
    z-index: 9999;
    opacity: 0.4;
}

/* --- Advanced UI: Hero Grid --- */
.hero-section::before {
    content: '';
    position: absolute;
    width: 200%;
    height: 200%;
    background:
        linear-gradient(transparent 0%, rgba(204, 255, 0, 0.1) 2%, transparent 3%),
        linear-gradient(90deg, transparent 0%, rgba(204, 255, 0, 0.1) 2%, transparent 3%);
    background-size: 100px 100px;
    transform: perspective(500px) rotateX(60deg) translateY(-100px) translateZ(-200px);
    animation: gridMove 20s linear infinite;
    opacity: 0.3;
    z-index: 0;
}

@keyframes gridMove {
    0% {
        transform: perspective(500px) rotateX(60deg) translateY(0) translateZ(-200px);
    }

    100% {
        transform: perspective(500px) rotateX(60deg) translateY(100px) translateZ(-200px);
    }
}

/* --- Advanced UI: Mouse-tracking Border Glow --- */
.glass-card,
.bento-item,
.nav-item {
    position: relative;
    overflow: hidden;
    /* Ensure glow stays inside/border */
}

/* The Glow Element */
.glass-card::before,
.bento-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(600px circle at var(--x) var(--y),
            rgba(204, 255, 0, 0.15),
            transparent 40%);
    opacity: 0;
    /* Hidden by default */
    transition: opacity 0.3s;
    pointer-events: none;
    z-index: 2;
}

/* Border enhancement via pseudo-element masking (Optional high-tech look) */
/* Or just simple inner glow which the above does */

.glass-card:hover::before,
.bento-item:hover::before {
    opacity: 1;
}

/* --- Layout --- */
.container {
    max-width: var(--spacing-container);
    margin: 0 auto;
    padding: 0 2rem;
    padding-top: 1rem;
    /* Added breathing room */
}

/* --- Floating Glass Command Dock --- */
.command-dock {
    position: fixed;
    top: 20px;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: center;
    z-index: 9999;
    pointer-events: none;
    /* Allow clicks through the sides */
    padding: 0 1rem;
    transition: all 0.4s ease;
}

.command-dock.scrolled {
    transform: translateY(-5px) scale(0.98);
}

.dock-capsule {
    pointer-events: auto;
    background: rgba(10, 10, 10, 0.7);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(204, 255, 0, 0.2);
    border-radius: 100px;
    padding: 0.5rem 0.5rem 0.5rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    max-width: 900px;
    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5);
    transition: all 0.3s ease;
}

.command-dock.scrolled .dock-capsule {
    background: rgba(5, 5, 5, 0.95);
    border-color: rgba(204, 255, 0, 0.1);
}

/* Brand */
.dock-brand {
    display: flex;
    align-items: center;
    gap: 0.8rem;
}

.dock-logo {
    height: 32px;
    width: auto;
    filter: drop-shadow(0 0 5px rgba(204, 255, 0, 0.2));
}

.brand-text {
    font-family: var(--font-heading);
    font-weight: 700;
    font-size: 0.9rem;
    color: #fff;
    letter-spacing: 1px;
    text-transform: uppercase;
}

/* Links */
.dock-links {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.dock-item {
    color: var(--text-grey);
    font-size: 0.85rem;
    font-weight: 500;
    padding: 0.5rem 1.2rem;
    border-radius: 50px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.dock-item:hover {
    color: #fff;
    background: rgba(255, 255, 255, 0.1);
}

.dock-item.active {
    color: var(--primary-color);
}

/* Actions */
.dock-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.status-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
}

.status-dot {
    width: 8px;
    height: 8px;
    background-color: #00ff66;
    border-radius: 50%;
    box-shadow: 0 0 10px #00ff66;
    animation: pulse-dot 2s infinite;
}

@keyframes pulse-dot {
    0% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.5);
        opacity: 0.5;
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.btn-enlist-dock {
    background: var(--primary-color);
    color: #050505;
    font-family: var(--font-heading);
    font-weight: 700;
    font-size: 0.8rem;
    padding: 0.6rem 1.5rem;
    border-radius: 50px;
    text-transform: uppercase;
    transition: all 0.3s ease;
    letter-spacing: 0.5px;
}

.btn-enlist-dock:hover {
    background: #e6ff66;
    box-shadow: 0 0 20px rgba(204, 255, 0, 0.4);
    transform: translateY(-1px);
}

.mobile-menu-btn {
    display: none;
    /* Hidden on desktop */
    background: transparent;
    border: none;
    color: #fff;
    cursor: pointer;
    padding: 0.5rem;
}

.mobile-menu-btn svg {
    width: 24px;
    height: 24px;
}

/* Mobile Overlay */
.mobile-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(5, 5, 5, 0.9);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    z-index: 10000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s ease;
    pointer-events: auto;
    /* Enable clicks */
}

.mobile-overlay.active {
    opacity: 1;
    visibility: visible;
}

.close-menu-btn {
    position: absolute;
    top: 30px;
    right: 30px;
    background: transparent;
    border: none;
    color: #fff;
    cursor: pointer;
    padding: 1rem;
    transition: transform 0.3s;
}

.close-menu-btn:hover {
    transform: rotate(90deg);
    color: var(--primary-color);
}

.close-menu-btn svg {
    width: 32px;
    height: 32px;
}

.mobile-links {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    text-align: center;
}

.mobile-link {
    font-family: var(--font-heading);
    font-size: 2rem;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 2px;
    transform: translateY(20px);
    opacity: 0;
    transition: all 0.4s ease;
}

.mobile-overlay.active .mobile-link {
    transform: translateY(0);
    opacity: 1;
}

/* Staggered Delay */
.mobile-overlay.active .mobile-link:nth-child(1) {
    transition-delay: 0.1s;
}

.mobile-overlay.active .mobile-link:nth-child(2) {
    transition-delay: 0.2s;
}

.mobile-overlay.active .mobile-link:nth-child(3) {
    transition-delay: 0.3s;
}

.mobile-overlay.active .mobile-link:nth-child(4) {
    transition-delay: 0.4s;
}

.mobile-overlay.active .mobile-link:nth-child(5) {
    transition-delay: 0.5s;
}

.mobile-link:hover {
    color: #fff;
    letter-spacing: 4px;
}

.mobile-link.highlight {
    color: var(--primary-color);
}

/* Tablet adjustments */
@media (max-width: 900px) {
    .dock-capsule {
        width: 95%;
    }
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .dock-capsule {
        padding: 0.8rem 1.2rem;
        width: 92%;
        max-width: 400px;
        justify-content: space-between;
        background: rgba(15, 15, 15, 0.9);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }

    .dock-links,
    .status-indicator,
    .btn-enlist-dock {
        display: none;
    }

    .mobile-menu-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        transition: all 0.3s ease;
    }

    .mobile-menu-btn:active {
        background: rgba(204, 255, 0, 0.2);
        border-color: var(--primary-color);
        transform: scale(0.95);
    }

    /* Enhanced Overlay */
    .mobile-link {
        font-size: 2.5rem;
        font-weight: 800;
        letter-spacing: -1px;
        margin-bottom: 0.5rem;
        text-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    }

    .mobile-link.highlight {
        color: var(--primary-color);
        text-shadow: 0 0 20px rgba(204, 255, 0, 0.4);
    }
}


/* --- Hero Section --- */
.hero-section {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    /* Clean look */
}

/* Polished Typography */
.glitch-text {
    font-size: 5rem;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    color: #fff;
    text-shadow: 0 0 30px rgba(204, 255, 0, 0.3);
    position: relative;
}

.hero-overlay {
    width: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    background-color: var(--bg-black);
    background: url(hero_bg.png) no-repeat center center/cover;
    overflow: hidden;
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
        linear-gradient(to bottom, rgba(0, 0, 0, 0.3) 0%, rgba(5, 5, 5, 1) 100%),
        repeating-linear-gradient(90deg, transparent 0, transparent 49px, rgba(255, 255, 255, 0.03) 50px);
    z-index: 1;
}

.hero-content {
    position: relative;
    z-index: 2;
    max-width: 800px;
    padding: 0 1rem;
}

.status-badge {
    background: rgba(204, 255, 0, 0.1);
    color: var(--primary-color);
    padding: 0.4rem 1rem;
    border-radius: 20px;
    border: 1px solid rgba(204, 255, 0, 0.3);
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    margin-bottom: 1.5rem;
    display: inline-block;
}

.glitch-text {
    font-size: clamp(3rem, 6vw, 5rem);
    line-height: 1.1;
    font-weight: 700;
    color: var(--text-white);
    margin-bottom: 1.5rem;
    letter-spacing: -2px;
}

.hero-subtext {
    color: var(--text-grey);
    font-size: 1.1rem;
    margin-bottom: 2.5rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.cta-group {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

/* --- About Section --- */
.about-section {
    padding: 8rem 0;
    position: relative;
}

.about-grid {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 4rem;
    align-items: center;
}

.about-text h2 {
    font-size: 3rem;
    margin-bottom: 1.5rem;
    line-height: 1.1;
}

.highlight-text {
    color: var(--text-grey);
    /* Or maybe outline text? kept simple for now */
    display: block;
}

.about-text p {
    color: var(--text-grey);
    margin-bottom: 2.5rem;
    font-size: 1.05rem;
}

.stats-row {
    display: flex;
    gap: 3rem;
    border-top: 1px solid var(--border-color);
    padding-top: 2rem;
}

.stat-item h3 {
    font-size: 2.5rem;
    color: var(--text-white);
    margin-bottom: 0.2rem;
}

.stat-item p {
    font-size: 0.9rem;
    margin-bottom: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.about-card-container {
    position: relative;
    display: flex;
    justify-content: center;
}

.glass-card {
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.01) 100%);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 2rem;
    width: 320px;
    transform: rotate(-3deg);
    transition: 0.5s;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
}

.glass-card:hover {
    transform: rotate(0deg) scale(1.02);
    border-color: var(--primary-color);
}

.card-header {
    text-align: center;
    margin-bottom: 2rem;
}

.unit-badge {
    width: 120px;
    height: 120px;
    object-fit: contain;
    filter: drop-shadow(0 0 10px rgba(204, 255, 0, 0.2));
}

.card-body h3 {
    font-size: 1.5rem;
    margin-bottom: 0.2rem;
    text-align: center;
}

.card-body p {
    text-align: center;
    color: var(--primary-color);
    font-family: monospace;
    font-size: 0.9rem;
    margin-bottom: 1.5rem;
}

.progress-bar {
    height: 4px;
    background: #333;
    border-radius: 2px;
    margin-bottom: 1rem;
    overflow: hidden;
}

.fill {
    height: 100%;
    background: var(--primary-color);
    box-shadow: 0 0 10px var(--primary-color);
}

.card-footer {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    color: var(--text-grey);
    text-transform: uppercase;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding-top: 1rem;
}

/* --- Knowledge Base (Bento) --- */
.knowledge-section {
    padding: 6rem 0;
    background-color: var(--surface-dark);
}

.section-header-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: 3rem;
}

.section-header-row h2 {
    max-width: 500px;
    font-size: 2rem;
}

.text-link {
    color: var(--primary-color);
    font-weight: 600;
    font-size: 0.9rem;
}

.bento-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    grid-auto-rows: minmax(280px, auto);
}

.bento-item {
    background: rgba(20, 25, 30, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding: 2rem;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.bento-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
        linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
        linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
    background-size: 100% 2px, 3px 100%;
    pointer-events: none;
    z-index: 0;
    opacity: 0.3;
}

/* Tech Corners */
.bento-item::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid transparent;
    background:
        linear-gradient(to right, var(--primary-color) 2px, transparent 2px) 0 0,
        linear-gradient(to bottom, var(--primary-color) 2px, transparent 2px) 0 0,
        linear-gradient(to left, var(--primary-color) 2px, transparent 2px) 100% 0,
        linear-gradient(to bottom, var(--primary-color) 2px, transparent 2px) 100% 0,
        linear-gradient(to left, var(--primary-color) 2px, transparent 2px) 100% 100%,
        linear-gradient(to top, var(--primary-color) 2px, transparent 2px) 100% 100%,
        linear-gradient(to right, var(--primary-color) 2px, transparent 2px) 0 100%,
        linear-gradient(to top, var(--primary-color) 2px, transparent 2px) 0 100%;
    background-repeat: no-repeat;
    background-size: 10px 10px;
    opacity: 0.3;
    transition: 0.4s;
    pointer-events: none;
}

.bento-item:hover {
    transform: translateY(-5px) scale(1.02);
    background: rgba(30, 35, 40, 0.8);
    border-color: rgba(204, 255, 0, 0.2);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), 0 0 30px rgba(204, 255, 0, 0.05);
}

.bento-item:hover::after {
    opacity: 1;
    background-size: 20px 20px;
}

.large-item {
    grid-column: span 1;
    grid-row: span 2;
}

.wide-item {
    grid-column: span 2;
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 2rem;
}

.medium-item {
    grid-column: span 1;
}

.icon-box {
    width: 60px;
    height: 60px;
    font-size: 1.8rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    margin-bottom: 1.5rem;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.05);
    z-index: 1;
}

.red-glow {
    color: #ff2a2a;
    box-shadow: inset 0 0 20px rgba(255, 42, 42, 0.2);
    border-color: rgba(255, 42, 42, 0.4);
}

.green-glow {
    color: #00ff66;
    box-shadow: inset 0 0 20px rgba(0, 255, 102, 0.2);
    border-color: rgba(0, 255, 102, 0.4);
}

.yellow-glow {
    color: #ffcc00;
    box-shadow: inset 0 0 20px rgba(255, 204, 0, 0.2);
    border-color: rgba(255, 204, 0, 0.4);
}

.blue-glow {
    color: #00ccff;
    box-shadow: inset 0 0 20px rgba(0, 204, 255, 0.2);
    border-color: rgba(0, 204, 255, 0.4);
}

.bento-item h3 {
    margin-bottom: 0.8rem;
    font-size: 1.4rem;
    font-family: var(--font-heading);
    letter-spacing: 1px;
    text-transform: uppercase;
    position: relative;
    z-index: 1;
}

.bento-item p {
    color: var(--text-grey);
    font-size: 0.95rem;
    font-family: var(--font-mono);
    line-height: 1.5;
    position: relative;
    z-index: 1;
}

.visual-line {
    height: 2px;
    width: 100%;
    background: repeating-linear-gradient(90deg, var(--primary-color) 0, var(--primary-color) 4px, transparent 4px, transparent 8px);
    margin-top: auto;
    opacity: 0.3;
}

.bento-item:hover .visual-line {
    animation: slideLine 1s linear infinite;
    opacity: 0.8;
}

@keyframes slideLine {
    to {
        background-position: 20px 0;
    }
}

/* --- Hierarchy --- */
.hierarchy-section {
    padding: 8rem 0;
    text-align: center;
}

.center-text {
    text-align: center;
    margin-bottom: 3rem;
}

.hierarchy-tree {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3rem;
}

.leader-node {
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* --- Command Hierarchy (Pyramid) --- */
.hierarchy-section {
    padding: 6rem 0;
    position: relative;
    background: radial-gradient(circle at center top, rgba(204, 255, 0, 0.03), transparent 70%);
}

.command-hierarchy {
    margin-top: 4rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4rem;
}

/* Tier Layouts */
.tier-1 {
    display: flex;
    justify-content: center;
    width: 100%;
    z-index: 5;
}

.tier-2,
.tier-3 {
    display: grid;
    gap: 2rem;
    justify-content: center;
    width: 100%;
}

.tier-2 {
    grid-template-columns: repeat(3, minmax(280px, 320px));
}

.tier-3 {
    grid-template-columns: repeat(4, minmax(240px, 280px));
}

/* --- Tactical Card Design --- */
.command-card {
    background: rgba(26, 26, 26, 0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-radius: 12px;
    padding: 2rem 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    border-bottom: 2px solid rgba(204, 255, 0, 0.3);
}

.command-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.7), 0 0 30px rgba(204, 255, 0, 0.1);
    border-bottom-color: #fff;
}

/* Tier 1 Special Sizing */
.commander-card {
    transform: scale(1.1);
    border-bottom: 3px solid var(--primary-color);
    background: rgba(30, 30, 30, 0.95);
}

.commander-card:hover {
    transform: scale(1.12) translateY(-5px);
}

/* Images & Radar */
.card-img-container {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    position: relative;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.card-img-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    border: 3px solid #1a1a1a;
    z-index: 2;
    filter: grayscale(100%) contrast(1.2);
    transition: 0.4s;
}

.command-card:hover .card-img-container img {
    filter: grayscale(0%);
}

.radar-scan {
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 50%;
    border: 1px dashed rgba(204, 255, 0, 0.3);
    animation: radar-spin 10s linear infinite;
    z-index: 1;
}

.command-card:hover .radar-scan {
    border-color: var(--primary-color);
    animation-duration: 4s;
    /* Speed up on hover */
}

@keyframes radar-spin {
    to {
        transform: rotate(360deg);
    }
}

/* Info */
.card-info {
    text-align: center;
    z-index: 2;
    width: 100%;
}

.card-info h3 {
    color: #fff;
    font-size: 1.2rem;
    margin-bottom: 0.3rem;
    font-family: var(--font-heading);
    letter-spacing: 0.5px;
}

.card-info .rank {
    color: var(--primary-color);
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 1rem;
}

.official-stamp {
    display: inline-block;
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.4);
    font-family: var(--font-mono);
    font-size: 0.7rem;
    padding: 0.2rem 0.6rem;
    border-radius: 4px;
    text-transform: uppercase;
}

/* --- Mobile Responsiveness (Snap Scroll) --- */
/* --- Mobile Responsiveness (Snap Scroll) --- */
@media (max-width: 768px) {
    .hierarchy-section {
        padding: 4rem 0;
    }

    .command-hierarchy {
        gap: 2rem;
    }

    /* Tier 1: Fixed & Centered */
    .tier-1 {
        display: flex;
        justify-content: center;
        padding: 0 1rem;
        margin-bottom: 2rem;
        /* Separation */
    }

    .commander-card {
        transform: scale(1);
        width: 100%;
        max-width: 320px;
    }

    /* Tiers 2 & 3: Horizontal Swipe */
    .tier-2,
    .tier-3 {
        display: flex;
        gap: 16px;
        /* 16px gap */
        width: max-content;
        /* Ensure they don't wrap */
        padding: 1rem 0 2rem 0;
    }

    .tier-2-scroll-wrapper,
    .tier-3-scroll-wrapper {
        width: 100vw;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        /* Center alignment calculations */
        padding-left: calc(50vw - 42.5vw);
        /* Center 85vw card */
        padding-right: calc(50vw - 42.5vw);
        margin-left: -2rem;
        /* Break out of container (assumes 2rem padding on parent) */
        scrollbar-width: none;
        /* Hide scrollbar Firefox */
        -ms-overflow-style: none;
        /* IE/Edge */
    }

    .tier-2-scroll-wrapper::-webkit-scrollbar,
    .tier-3-scroll-wrapper::-webkit-scrollbar {
        display: none;
        /* Hide scrollbar Chrome/Safari */
    }

    /* Mobile Card Sizing */
    .command-card {
        min-width: 85vw;
        /* 85% of screen width */
        max-width: 300px;
        /* Cap it so it doesn't get huge */
        padding: 1.5rem;
        scroll-snap-align: center;
        flex-shrink: 0;
        margin: 0;
        /* Reset margins */
    }

    /* Optimize internals for mobile */
    .card-img-container {
        width: 100px;
        height: 100px;
    }

    .card-info h3 {
        font-size: 1.2rem;
    }

    .commander-card h3 {
        font-size: 1.4rem;
    }
}

/* --- Gallery --- */
.gallery-section {
    padding: 6rem 0;
    overflow: hidden;
}

.section-sub {
    color: var(--text-grey);
    margin-top: -1rem;
    margin-bottom: 2rem;
}

.gallery-scroller {
    display: flex;
    gap: 2rem;
    overflow-x: auto;
    padding-bottom: 2rem;
    padding-left: 2rem;
    /* Initial offset */
    padding-right: 2rem;
    scrollbar-width: none;
    /* Hide scrollbar FF */
    cursor: grab;
}

.gallery-scroller::-webkit-scrollbar {
    display: none;
}

.gallery-card {
    min-width: 400px;
    height: 250px;
    border-radius: var(--border-radius-card);
    position: relative;
    overflow: hidden;
    background: #222;
    flex-shrink: 0;
}

.gallery-img {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    transition: 0.5s;
    filter: grayscale(100%);
    opacity: 0.7;
}

.gallery-card:hover .gallery-img {
    filter: grayscale(0%);
    transform: scale(1.1);
    opacity: 1;
}

.gallery-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 1.5rem;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
    z-index: 2;
}

.gallery-overlay span {
    font-size: 0.7rem;
    font-weight: 700;
    background: var(--primary-color);
    color: #000;
    padding: 0.2rem 0.5rem;
    border-radius: 2px;
    margin-bottom: 0.5rem;
    display: inline-block;
}

.gallery-overlay h3 {
    font-size: 1.2rem;
    margin-bottom: 0.2rem;
}

.gallery-overlay p {
    font-size: 0.8rem;
    color: #ccc;
}

/* Placeholders for Gallery - will be replaced by generated images */
.placeholder-drill {
    background-image: url(drill.png);
}

.placeholder-safety {
    background-color: #444;
}

.placeholder-morning {
    background-color: #555;
}

.placeholder-parade {
    background-color: #666;
}


/* --- Footer --- */
footer {
    border-top: 1px solid #222;
    padding-top: 5rem;
    background-color: var(--bg-black);
}

.footer-content {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: 4rem;
    padding-bottom: 4rem;
}

.footer-brand h4 {
    margin: 1rem 0;
    font-size: 1.2rem;
}

.footer-brand p {
    color: var(--text-grey);
    max-width: 300px;
    font-size: 0.9rem;
}

.footer-links h5,
.footer-contact h5 {
    color: #fff;
    margin-bottom: 1.5rem;
    font-size: 1rem;
    font-weight: 700;
}

.footer-links ul li {
    margin-bottom: 0.8rem;
}

.footer-links ul li a {
    color: var(--text-grey);
    font-size: 0.9rem;
}

.footer-links ul li a:hover {
    color: var(--primary-color);
}

.footer-contact p {
    color: var(--text-grey);
    font-size: 0.9rem;
    margin-bottom: 0.8rem;
}

.footer-bottom {
    display: flex;
    justify-content: space-between;
    padding: 2rem;
    border-top: 1px solid #222;
    font-size: 0.8rem;
    color: #555;
    background: #000;
}

.socials {
    display: flex;
    gap: 1rem;
}

.socials a {
    color: #555;
    font-weight: 700;
}

.socials a:hover {
    color: #fff;
}


/* --- Responsive --- */
@media (max-width: 900px) {
    .bento-grid {
        grid-template-columns: 1fr;
    }

    .large-item,
    .wide-item {
        grid-column: span 1;
    }

    .about-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
    }

    .about-card-container {
        margin-top: 2rem;
    }

    .footer-content {
        grid-template-columns: 1fr;
        gap: 2rem;
    }

    .sub-leaders {
        flex-direction: column;
        gap: 2rem;
    }

    .glitch-text {
        font-size: 3.5rem;
    }
}

/* --- Animations --- */
.fade-section {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.fade-section.visible {
    opacity: 1;
    transform: translateY(0);
}




.terminal-log {
    margin-top: 1.5rem;
    height: 100px;
    overflow: hidden;
    color: var(--primary-color);
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    text-align: left;
    width: 300px;
    margin-left: auto;
    margin-right: auto;
    border-top: 1px solid #333;
    padding-top: 0.5rem;
    opacity: 0.8;
}

.log-item {
    margin-bottom: 0.3rem;
    white-space: nowrap;
}

/* --- Advanced Navigation Bar --- */
.navbar {
    background: rgba(5, 5, 5, 0.7);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

.navbar::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
    opacity: 0.5;
    box-shadow: 0 0 10px var(--primary-color);
}

.logo-icon {
    animation: pulse-logo 2s infinite;
}

@keyframes pulse-logo {
    0% {
        text-shadow: 0 0 0 rgba(204, 255, 0, 0);
    }

    50% {
        text-shadow: 0 0 15px rgba(204, 255, 0, 0.5);
    }

    100% {
        text-shadow: 0 0 0 rgba(204, 255, 0, 0);
    }
}

.nav-links li a {
    position: relative;
    padding: 0.5rem;
    transition: 0.3s;
}

.nav-links li a:hover {
    color: var(--primary-color);
    text-shadow: 0 0 8px rgba(204, 255, 0, 0.5);
}

.nav-links li a::before,
.nav-links li a::after {
    content: '[';
    position: absolute;
    left: -10px;
    opacity: 0;
    color: var(--primary-color);
    transition: 0.3s;
}

.nav-links li a::after {
    content: ']';
    left: auto;
    right: -10px;
}

.nav-links li a:hover::before {
    opacity: 1;
    left: -15px;
}

.nav-links li a:hover::after {
    opacity: 1;
    right: -15px;
}

/* --- Status Widget --- */
.status-widget {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-family: 'Courier New', monospace;
    font-size: 0.75rem;
    color: var(--primary-color);
    border: 1px solid rgba(204, 255, 0, 0.3);
    padding: 0.3rem 0.8rem;
    border-radius: 4px;
    background: rgba(204, 255, 0, 0.05);
    margin-right: 2rem;
}

.status-dot {
    width: 8px;
    height: 8px;
    background: var(--primary-color);
    border-radius: 50%;
    box-shadow: 0 0 5px var(--primary-color);
    animation: blink 2s infinite;
}

@keyframes blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.3;
    }
}

@media (max-width: 900px) {
    .status-widget {
        display: none;
    }
}

/* --- Global Animations --- */
.stagger-item {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.stagger-item.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Typography Polish */
h1,
h2,
h3 {
    text-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
}

.highlight-text {
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
}

/* --- Infinite Gallery --- */
.gallery-container {
    position: relative;
    width: 100%;
    overflow: hidden;
    padding: 2rem 0;
    /* Create a fade effect on edges */
    mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
}

.gallery-track {
    display: flex;
    gap: 2rem;
    width: max-content;
    will-change: transform;
    /* Transformation is handled by JS for infinite loop */
}

.gallery-card {
    min-width: 300px;
    height: 200px;
    background: #111;
    border-radius: 12px;
    position: relative;
    overflow: hidden;
    border: 1px solid #333;
    transition: 0.3s;
    flex-shrink: 0;
}

.gallery-card:hover {
    border-color: var(--primary-color);
    box-shadow: 0 0 15px rgba(204, 255, 0, 0.2);
    transform: translateY(-5px);
}

.gallery-img {
    height: 60%;
    background: #222;
    /* Placeholder pattern or image */
    background-image: radial-gradient(#333 1px, transparent 1px);
    background-size: 10px 10px;
}

/* Specific placeholders colors/images could be added here */
.placeholder-drill {
    background-color: #1a2a3a;
}

.placeholder-safety {
    background-color: #2a1a1a;
}

.placeholder-morning {
    background-color: #222;
}

.placeholder-parade {
    background-color: #331a1a;
}

.placeholder-checkpoint {
    background-color: #1a331a;
}

.placeholder-briefing {
    background-color: #33331a;
}

.placeholder-gear {
    background-color: #1a3333;
}

.placeholder-awards {
    background-color: #331a33;
}


.gallery-overlay {
    padding: 1rem;
    color: #fff;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
}

.gallery-overlay span {
    font-size: 0.75rem;
    color: var(--primary-color);
    font-family: 'Courier New', monospace;
}

.gallery-overlay h3 {
    margin: 0.2rem 0;
    font-size: 1.1rem;
}

.gallery-overlay p {
    font-size: 0.85rem;
    color: var(--text-grey);
}

/* Manual Controls - Neon Arrows */
.nav-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid var(--primary-color);
    color: var(--primary-color);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    font-size: 1.2rem;
    cursor: pointer;
    z-index: 10;
    backdrop-filter: blur(5px);
    transition: 0.3s;
    display: flex;
    justify-content: center;
    align-items: center;
}

.nav-arrow:hover {
    background: var(--primary-color);
    color: #000;
    box-shadow: 0 0 15px var(--primary-color);
}

.nav-arrow.prev {
    left: 20px;
}

.nav-arrow.next {
    right: 20px;
}

/* --- Supercharged Preloader Styles (Restored) --- */
.system-grid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(rgba(204, 255, 0, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(204, 255, 0, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    z-index: -1;
    pointer-events: none;
}

.radar-container {
    position: relative;
    width: 300px;
    height: 300px;
    margin: 0 auto 2rem;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    border: 1px solid rgba(204, 255, 0, 0.2);
    box-shadow: 0 0 50px rgba(204, 255, 0, 0.05);
}

.radar-circle {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 1px dashed rgba(204, 255, 0, 0.3);
    animation: rotate 10s linear infinite;
}

.radar-sweep {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: conic-gradient(from 0deg, transparent 0deg, rgba(204, 255, 0, 0.1) 60deg, rgba(204, 255, 0, 0.5) 90deg, transparent 91deg);
    animation: radar-spin 4s linear infinite;
    z-index: 0;
}

.traffic-light-loader {
    z-index: 2;
    position: relative;
    margin-bottom: 0;
}

@keyframes radar-spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

@keyframes rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

.system-footer {
    position: absolute;
    bottom: 2rem;
    width: 100%;
    display: flex;
    justify-content: space-between;
    padding: 0 4rem;
    color: var(--text-grey);
    font-size: 0.7rem;
    font-family: monospace;
    letter-spacing: 2px;
}

/* --- Infinite Gallery --- */
.gallery-container {
    position: relative;
    width: 100%;
    overflow: hidden;
    padding: 2rem 0;
    mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
}

.gallery-track {
    display: flex;
    gap: 2rem;
    width: max-content;
    will-change: transform;
}

.gallery-card {
    min-width: 300px;
    height: 200px;
    background: #111;
    border-radius: 12px;
    position: relative;
    overflow: hidden;
    border: 1px solid #333;
    transition: 0.3s;
    flex-shrink: 0;
}

.gallery-card:hover {
    border-color: var(--primary-color);
    box-shadow: 0 0 15px rgba(204, 255, 0, 0.2);
    transform: translateY(-5px);
}

.gallery-img {
    height: 60%;
    background: #222;
    background-image: radial-gradient(#333 1px, transparent 1px);
    background-size: 10px 10px;
}

.placeholder-drill {
    background-color: #1a2a3a;
}

.placeholder-safety {
    background-color: #2a1a1a;
}

.placeholder-morning {
    background-color: #222;
}

.placeholder-parade {
    background-color: #331a1a;
}

.placeholder-checkpoint {
    background-color: #1a331a;
}

.placeholder-briefing {
    background-color: #33331a;
}

.placeholder-gear {
    background-color: #1a3333;
}

.placeholder-awards {
    background-color: #331a33;
}

.gallery-overlay {
    padding: 1rem;
    color: #fff;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
}

.gallery-overlay span {
    font-size: 0.75rem;
    color: var(--primary-color);
    font-family: 'Courier New', monospace;
}

.gallery-overlay h3 {
    margin: 0.2rem 0;
    font-size: 1.1rem;
}

.gallery-overlay p {
    font-size: 0.85rem;
    color: var(--text-grey);
}

/* Manual Controls - Tech Arrows */
.nav-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(10, 10, 10, 0.6);
    border: 1px solid rgba(204, 255, 0, 0.3);
    color: var(--primary-color);
    width: 48px;
    height: 48px;
    border-radius: 50%;
    /* Tech box shape */
    font-size: 1.2rem;
    cursor: pointer;
    z-index: 10;
    backdrop-filter: blur(8px);
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

.nav-arrow:hover {
    background: var(--primary-color);
    color: #000;
    box-shadow: 0 0 30px rgba(204, 255, 0, 0.5);
    transform: translateY(-50%) scale(1.1);
    border-color: var(--primary-color);
}

.nav-arrow:active {
    transform: translateY(-50%) scale(0.95);
}

.nav-arrow.prev {
    left: 20px;
}

.nav-arrow.next {
    right: 20px;
}

/* --- Supercharged Preloader Styles (Restored) --- */
.system-grid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(rgba(204, 255, 0, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(204, 255, 0, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    z-index: -1;
    pointer-events: none;
}

.radar-container {
    position: relative;
    width: 300px;
    height: 300px;
    margin: 0 auto 2rem;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    border: 1px solid rgba(204, 255, 0, 0.2);
    box-shadow: 0 0 50px rgba(204, 255, 0, 0.05);
}

.radar-circle {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 1px dashed rgba(204, 255, 0, 0.3);
    animation: rotate 10s linear infinite;
}

.radar-sweep {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: conic-gradient(from 0deg, transparent 0deg, rgba(204, 255, 0, 0.1) 60deg, rgba(204, 255, 0, 0.5) 90deg, transparent 91deg);
    animation: radar-spin 4s linear infinite;
    z-index: 0;
}

.traffic-light-loader {
    z-index: 2;
    position: relative;
    margin-bottom: 0;
}

@keyframes radar-spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

@keyframes rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* --- Mobile Responsiveness --- */
@media (max-width: 768px) {

    /* Typographic Scale for Mobile */
    html {
        font-size: 14px;
        /* Slightly smaller base */
        overflow-x: hidden;
        /* CRITICAL: Prevent horizontal scroll */
    }

    body {
        position: relative;
        overflow-x: hidden;
    }

    /* Disable Heavy 3D Grid on Mobile for Performance */
    .hero-section::before {
        display: none;
        /* OR simplify: animation: none; opacity: 0.1; */
    }

    /* Boot Screen Mobile */
    .boot-text {
        font-size: 0.9rem;
        /* Smaller monospace for mobile */
        min-height: 100px;
    }

    h1 {
        font-size: 2.5rem;
        /* Scale down hero title */
    }

    h2 {
        font-size: 2rem;
    }

    /* Container Padding */
    .container {
        padding: 0 1.5rem;
    }

    /* Navigation Mobile Tweaks */
    .nav-capsule {
        padding: 0.5rem 1rem;
        width: 95%;
        /* Wider on mobile */
    }

    .nav-brand {
        gap: 0.5rem;
    }

    .brand-text {
        font-size: 0.9rem;
    }

    /* Hero Section */
    .hero-content {
        padding-top: 6rem;
        /* Adjust for fixed nav */
    }

    .hero-text h1 {
        line-height: 1.2;
    }

    .hero-subtext {
        font-size: 1rem;
    }

    /* Bento Grid Stacking */
    .bento-grid {
        grid-template-columns: 1fr;
        /* Stack into single column */
        gap: 1.5rem;
    }

    .bento-item {
        min-height: 250px;
        /* Ensure sufficient touch height */
    }

    .bento-item.large,
    .bento-item.medium,
    .bento-item.tall,
    .bento-item.wide {
        grid-column: span 1;
        grid-row: span 1;
    }

    /* Gallery Mobile */
    .gallery-container {
        padding: 1rem 0;
    }

    .gallery-card {
        min-width: 260px;
        /* Smaller cards */
        height: 180px;
    }

    .nav-arrow {
        width: 32px;
        height: 32px;
        font-size: 1rem;
    }

    /* Footer Stacking */
    footer .container {
        flex-direction: column;
        gap: 2rem;
        text-align: center;
    }

    .footer-col {
        align-items: center;
    }

    .newsletter-form {
        flex-direction: column;
        gap: 0.5rem;
    }

    .newsletter-input,
    .btn-primary {
        width: 100%;
    }

    /* Touch Targets */
    .btn-primary,
    .btn-secondary,
    .nav-link,
    .icon-btn {
        min-height: 44px;
        /* Accessibility standard */
        min-width: 44px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
}

@media (max-width: 480px) {

    /* Small Phone adjustments */
    .nav-capsule {
        border-radius: 20px;
    }

    .hero-text h1 {
        font-size: 2rem;
    }

    /* Ensure modals/mega menus fit */
    .mega-menu {
        width: 90vw;
        left: 50%;
        min-width: unset;
        transform: translateX(-50%) translateY(10px);
    }

    .mega-grid {
        grid-template-columns: 1fr;
    }
}

/* --- Tactical Scroll Reveal System --- */
.reveal {
    opacity: 0;
    transform: translateY(50px);
    transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
    will-change: opacity, transform;
    /* Performance optimization */
}

.reveal.active {
    opacity: 1;
    transform: translateY(0);
}

/* Mobile Optimization: Reduce travel distance */
@media (max-width: 768px) {
    .reveal {
        transform: translateY(20px);
    }
}

/* --- Custom Tactical Scrollbar --- */
/* Firefox */
html {
    scrollbar-width: thin;
    scrollbar-color: var(--primary-color) #0a0a0a;
}

/* Chrome, Edge, Safari */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #0a0a0a;
}

::-webkit-scrollbar-thumb {
    background-color: var(--primary-color);
    border-radius: 10px;
    border: 2px solid #0a0a0a;
    /* Creates padding effect */
}

::-webkit-scrollbar-thumb:hover {
    background-color: #e6ff66;
    /* Brighter neon */
}

/* --- High-Fidelity Command Preloader --- */
#loader-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: #000000;
    /* 3. Hexagon Mesh / Grid Background */
    background-image:
        repeating-linear-gradient(0deg, transparent, transparent 19px, rgba(204, 255, 0, 0.05) 20px),
        repeating-linear-gradient(90deg, transparent, transparent 19px, rgba(204, 255, 0, 0.05) 20px);
    background-size: 20px 20px;
    z-index: 9999999;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* 1. Rolling System Log */
#system-log {
    position: fixed;
    bottom: 20px;
    left: 20px;
    width: 300px;
    height: 100px;
    overflow: hidden;
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: #008F11;
    /* Dim Matrix Green */
    text-align: left;
    opacity: 0.8;
    z-index: 5;
    /* Glassmorphism */
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 8px;
    padding: 10px;
    pointer-events: none;
    line-height: 1.2;
}

/* 2. Tactical Corner Reticles */
.corner-bracket {
    position: absolute;
    width: 40px;
    height: 40px;
    border-color: #CCFF00;
    border-style: solid;
    border-width: 0;
    opacity: 0.8;
    z-index: 20;
    animation: cornerBreathe 2s infinite ease-in-out alternate;
}

.corner-bracket.top-left {
    top: 20px;
    left: 20px;
    border-top-width: 3px;
    border-left-width: 3px;
}

.corner-bracket.top-right {
    top: 20px;
    right: 20px;
    border-top-width: 3px;
    border-right-width: 3px;
}

.corner-bracket.bottom-left {
    bottom: 20px;
    left: 20px;
    border-bottom-width: 3px;
    border-left-width: 3px;
}

.corner-bracket.bottom-right {
    bottom: 20px;
    right: 20px;
    border-bottom-width: 3px;
    border-right-width: 3px;
}

@keyframes cornerBreathe {
    from {
        opacity: 0.4;
    }

    to {
        opacity: 1;
    }
}

/* 1. CRT Monitor Overlay (Scanlines & Vignette) */
#loader-screen::before {
    content: " ";
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background:
        linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
        linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
    z-index: 2;
    background-size: 100% 2px, 3px 100%;
    pointer-events: none;
    /* Vignette */
    box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.9);
}

.loader-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
    z-index: 10;
    position: relative;
    /* Glassmorphism */
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 3rem;
    border-radius: 24px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
}

/* 5. Biometric Scanner */
.scanner-wrapper {
    position: relative;
    overflow: hidden;
    /* Ensure scan line stays over logo */
}

.loader-logo {
    width: 120px;
    opacity: 0.5;
    /* Dimmed base state */
    /* Remove old pulse to avoid conflict or keep it subtle? Keeping it subtle. */
    animation: loaderPulse 1s infinite alternate;
}

.scanner-line {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: #00f3ff;
    /* Cyan Scanner */
    box-shadow: 0 0 10px #00f3ff, 0 0 20px #00f3ff;
    animation: scanBeam 2s ease-in-out infinite;
    mix-blend-mode: hard-light;
    /* Make it "burn" */
    opacity: 0.9;
}

@keyframes scanBeam {
    0% {
        top: 0%;
        opacity: 0;
    }

    10% {
        opacity: 1;
    }

    90% {
        opacity: 1;
    }

    100% {
        top: 100%;
        opacity: 0;
    }
}

@keyframes loaderPulse {
    from {
        transform: scale(1);
    }

    to {
        transform: scale(1.05);
    }
}

/* 6. Sound Wave Visualizer */
.loader-stats-row {
    display: flex;
    align-items: center;
    gap: 1rem;
    position: relative;
}

.sound-wave {
    display: flex;
    gap: 3px;
    align-items: center;
    height: 30px;
}

.bar {
    width: 4px;
    height: 100%;
    background: #CCFF00;
    box-shadow: 0 0 5px #CCFF00;
    animation: soundWave 0.5s ease-in-out infinite alternate;
}

.bar:nth-child(1) {
    height: 40%;
    animation-delay: 0.1s;
}

.bar:nth-child(2) {
    height: 70%;
    animation-delay: 0.2s;
}

.bar:nth-child(3) {
    height: 100%;
    animation-delay: 0.3s;
}

.bar:nth-child(4) {
    height: 60%;
    animation-delay: 0.15s;
}

.bar:nth-child(5) {
    height: 30%;
    animation-delay: 0.4s;
}

@keyframes soundWave {
    0% {
        transform: scaleY(0.4);
    }

    100% {
        transform: scaleY(1);
    }
}

#loader-text {
    font-family: 'Courier New', monospace;
    font-size: 3rem;
    color: #CCFF00;
    font-weight: bold;
    text-shadow: 0 0 10px #CCFF00;
    /* 2. Glitch Effect */
    animation: glitch-anim 2s infinite;
    position: relative;
}

/* Glitch Keyframes */
@keyframes glitch-anim {
    0% {
        transform: skewX(0deg);
    }

    5% {
        transform: skewX(10deg);
    }

    10% {
        transform: skewX(-5deg);
    }

    15% {
        transform: skewX(0deg);
    }

    60% {
        transform: skewX(0deg);
    }

    65% {
        transform: skewX(5deg);
    }

    70% {
        transform: skewX(0deg);
    }

    100% {
        transform: skewX(0deg);
    }
}

/* Dynamic Status Log */
#loader-status {
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    color: #CCFF00;
    letter-spacing: 2px;
    margin-top: -0.5rem;
    opacity: 0.8;
    text-transform: uppercase;
}

/* 1. The Segmented Progress Bar */
.loader-bar-container {
    width: 300px;
    height: 12px;
    /* Increased height for chunks */
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid #333;
    border-radius: 2px;
    overflow: hidden;
    /* Changed back to hidden to crop bar */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    position: relative;
}

#loader-bar {
    height: 100%;
    width: 0%;
    /* Segmented Gradient: 4px color, 2px black (transparent) */
    background: repeating-linear-gradient(90deg,
            currentColor,
            currentColor 4px,
            transparent 4px,
            transparent 6px);
    box-shadow: 0 0 10px currentColor;
    /* Keeps the glow matching color */
    transition: width 0.03s linear;
    /* Faster transition for smooth decimal steps */
    position: relative;
    /* Ensure background color is set via JS logic or default */
    background-color: transparent;
    /* Rely on gradient */
}

/* Leading Edge */
#loader-bar::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 2px;
    height: 100%;
    background: #FFFFFF;
    box-shadow: 0 0 15px #FFFFFF, 0 0 5px #FFFFFF;
    z-index: 2;
}

/* 2. Targeting Percentage HUD */
#loader-text::before {
    content: '[';
    margin-right: 10px;
    display: inline-block;
    animation: bracketPulse 1s infinite;
}

#loader-text::after {
    content: ']';
    margin-left: 10px;
    display: inline-block;
    animation: bracketPulse 1s infinite;
}

@keyframes bracketPulse {

    0%,
    100% {
        transform: scale(1);
        opacity: 0.8;
    }

    50% {
        transform: scale(1.2);
        opacity: 1;
        color: #fff;
    }
}

@keyframes bracketPulse {

    0%,
    100% {
        transform: scale(1);
        opacity: 0.8;
    }

    50% {
        transform: scale(1.2);
        opacity: 1;
        color: #fff;
    }
}

/* 3. Atmospheric Particles */
.particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 5;
    pointer-events: none;
    overflow: hidden;
}

/* ... (Existing particle styles remain, just appending new utility) ... */

/* --- Premium Dark Glassmorphism Utility --- */
.glass-panel {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.01));
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
    border-radius: 16px;
    color: #FFFFFF;
    position: relative;
    overflow: hidden;
    /* For sheen */
    transition: background 0.3s ease;
}

.glass-panel:hover {
    background: rgba(255, 255, 255, 0.1);
}

/* Holographic Sheen Animation */
.glass-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: -150%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
            transparent,
            rgba(255, 255, 255, 0.2),
            transparent);
    transform: skewX(-25deg);
    transition: left 0.5s;
    pointer-events: none;
}

.glass-panel:hover::before {
    left: 150%;
    transition: left 0.7s ease-in-out;
}

/* Enforce Bright Text inside Glass Panels */
.glass-panel h1,
.glass-panel h2,
.glass-panel h3,
.glass-panel h4,
.glass-panel p,
.glass-panel span,
.glass-panel a {
    color: #FFFFFF;
    text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
}

.glass-panel .highlight-text,
.glass-panel .rank,
.glass-panel .status {
    color: #CCFF00 !important;
    /* Neon override */
}

.particle {
    position: absolute;
    bottom: -10px;
    width: 4px;
    height: 4px;
    background: #CCFF00;
    border-radius: 50%;
    box-shadow: 0 0 10px #CCFF00;
    opacity: 0;
    animation: floatUp 4s infinite linear;
}

/* Randomized Particle Distribution */
.particle:nth-child(1) {
    left: 10%;
    animation-duration: 5s;
    animation-delay: 0s;
}

.particle:nth-child(2) {
    left: 20%;
    animation-duration: 7s;
    animation-delay: 1s;
}

.particle:nth-child(3) {
    left: 30%;
    animation-duration: 4s;
    animation-delay: 2s;
}

.particle:nth-child(4) {
    left: 40%;
    animation-duration: 6s;
    animation-delay: 0.5s;
}

.particle:nth-child(5) {
    left: 50%;
    animation-duration: 8s;
    animation-delay: 3s;
}

.particle:nth-child(6) {
    left: 60%;
    animation-duration: 5s;
    animation-delay: 1.5s;
}

.particle:nth-child(7) {
    left: 70%;
    animation-duration: 9s;
    animation-delay: 0.2s;
}

.particle:nth-child(8) {
    left: 80%;
    animation-duration: 6s;
    animation-delay: 2.5s;
}

.particle:nth-child(9) {
    left: 90%;
    animation-duration: 7s;
    animation-delay: 0.8s;
}

.particle:nth-child(10) {
    left: 15%;
    animation-duration: 5s;
    animation-delay: 1.2s;
}

.particle:nth-child(11) {
    left: 35%;
    animation-duration: 6s;
    animation-delay: 2.2s;
}

.particle:nth-child(12) {
    left: 55%;
    animation-duration: 8s;
    animation-delay: 0.3s;
}

.particle:nth-child(13) {
    left: 75%;
    animation-duration: 4s;
    animation-delay: 1.8s;
}

.particle:nth-child(14) {
    left: 85%;
    animation-duration: 7s;
    animation-delay: 3.2s;
}

.particle:nth-child(15) {
    left: 25%;
    animation-duration: 5s;
    animation-delay: 0.7s;
}

@keyframes floatUp {
    0% {
        transform: translateY(0);
        opacity: 0;
    }

    10% {
        opacity: 0.8;
    }

    100% {
        transform: translateY(-100vh);
        opacity: 0;
    }
}

/* 4. Ignition Shake (The Climax) */
.shake-critical {
    animation: shakeCritical 0.2s cubic-bezier(.36, .07, .19, .97) both infinite;
}

@keyframes shakeCritical {

    10%,
    90% {
        transform: translate3d(-1px, 0, 0);
    }

    20%,
    80% {
        transform: translate3d(2px, 0, 0);
    }

    30%,
    50%,
    70% {
        transform: translate3d(-2px, 0, 0);
    }

    40%,
    60% {
        transform: translate3d(2px, 0, 0);
    }
}

.fade-out {
    opacity: 0;
    transition: opacity 0.8s ease-out;
}

/* --- Holographic Training Database (Operational Signals) --- */
.signal-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
}

@media (max-width: 768px) {
    .signal-grid {
        grid-template-columns: 1fr;
    }
}

.signal-card {
    position: relative;
    border: 1px solid #333;
    overflow: hidden;
    height: 300px;
    /* Fixed height for uniformity */
    /* Glass panel styles are inherited via class, but we can enforce dark bg */
    background: rgba(0, 0, 0, 0.6);
}

.signal-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: filter 0.3s ease;
    /* Night Vision Filter */
    filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(50deg) saturate(300%);
}

.signal-card:hover .signal-img {
    filter: none;
    /* Reveal true color */
}

/* Data Overlay */
.signal-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 15px;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    transform: translateY(calc(100% - 40px));
    /* Show only title area initially */
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
}

.signal-card:hover .signal-overlay {
    transform: translateY(0);
}

.signal-overlay h3 {
    font-family: 'Courier New', monospace;
    font-size: 14px;
    margin: 0 0 10px 0;
    color: #CCFF00;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.signal-details {
    opacity: 0;
    transition: opacity 0.3s ease 0.1s;
}

.signal-card:hover .signal-details {
    opacity: 1;
}

.signal-details p {
    font-family: 'Courier New', monospace;
    font-size: 12px;
    color: #DDDDDD;
    line-height: 1.4;
    margin-bottom: 8px;
}

.priority-tag {
    display: inline-block;
    padding: 2px 6px;
    background: #CCFF00;
    color: #000;
    font-size: 10px;
    font-weight: bold;
    font-family: monospace;
    margin-bottom: 5px;
    border-radius: 2px;
}

/* Corner Markers (+) */
.card-corners {
    position: absolute;
    top: 5px;
    left: 5px;
    right: 5px;
    bottom: 5px;
    pointer-events: none;
    z-index: 2;
}

.card-corners::before,
.card-corners::after {
    content: '+';
    position: absolute;
    color: #CCFF00;
    /* Neon */
    font-family: monospace;
    font-size: 20px;
    line-height: 1;
    font-weight: bold;
}

/* Top Left & Top Right (via clone) */
.card-corners::before {
    top: 0;
    left: 0;
    /* Clone to Top Right */
    /* Accessing container width is tricky with text-shadow percentage, 
       but we can use absolute positioning for TR if we separate or use flex.
       Actually, let's just do TL and BR for now to ensure cleanliness 
       and avoid "floating plus" issues. 
       Reverting to standard diagonal brackets which looks very tactical. */
}

.card-corners::after {
    bottom: 0;
    right: 0;
}

/* Add Top Right and Bottom Left using shadows on the box? 
   Let's try gradients for the corners instead of text + signs if we want 4.
   Linear Gradient 4 corners: */
.card-corners {
    background:
        linear-gradient(to right, #CCFF00 2px, transparent 2px) 0 0,
        linear-gradient(to bottom, #CCFF00 2px, transparent 2px) 0 0,
        linear-gradient(to left, #CCFF00 2px, transparent 2px) 100% 0,
        linear-gradient(to bottom, #CCFF00 2px, transparent 2px) 100% 0,
        linear-gradient(to right, #CCFF00 2px, transparent 2px) 0 100%,
        linear-gradient(to top, #CCFF00 2px, transparent 2px) 0 100%,
        linear-gradient(to left, #CCFF00 2px, transparent 2px) 100% 100%,
        linear-gradient(to top, #CCFF00 2px, transparent 2px) 100% 100%;
    background-repeat: no-repeat;
    background-size: 10px 10px;
    /* Size of the marker */
    /* This creates L-brackets at 4 corners. 
       To make them +, we need intersecting lines. 
       Let's stick to the simpler Code:
       TL and BR text pluses. It's cleaner. 
       I will use the previous logic but cleaner.
    */
}

.card-corners::before {
    top: 0;
    left: 0;
}

.card-corners::after {
    bottom: 0;
    right: 0;
}